@import '~/assets/css/variables';

// --- CSS VARIABLES

:root {
  // Colors
  --c-primary: #{$primary};
  --c-secondary: #{$secondary};
  --c-error: #{$red};
  --c-error-background: #{rgba($red, .25)};
  --c-success: #{$green};
  --c-success-background: #{rgba($green, .25)};

  // Fonts
  --fs-regular: 1rem;
  --fs-small: .75rem;

  // Transition
  --transition: .3s cubic-bezier(.4, 0, .2, 1);
}

.light-mode {
  // Colors
  --c-secondary-hover: #{mix($secondary, $white, 90%)};
  --c-default: #{$black};
  --c-tertiary-1: #{$black-80};
  --c-tertiary-2: #{$black-65};
  --c-tertiary-3: #{$grey};
  --c-tertiary-4: #{$black-35};
  --c-background-0: #{$white};
  --c-background-1: #{$white};
  --c-background-2: #{$white};
  --c-background-3: #{$white};
  --c-scrollbar-background: #{$black-25};
  --c-scrollbar-hover: #{$black-35};
  --c-scrollbar-active: #{$grey};
  --c-border: #{rgba($black, .05)};
}

.dark-mode {
  // Colors
  --c-secondary-hover: #{mix($secondary, $black, 90%)};
  --c-default: #{$white};
  --c-tertiary-1: #{$black-20};
  --c-tertiary-2: #{$black-35};
  --c-tertiary-3: #{$grey};
  --c-tertiary-4: #{$black-65};
  --c-background-0: #{$black-93};
  --c-background-1: #{$black-90};
  --c-background-2: #{$black-87};
  --c-background-3: #{$black-84};
  --c-scrollbar-background: #{$black-75};
  --c-scrollbar-hover: #{$black-65};
  --c-scrollbar-active: #{$grey};
  --c-border: #{rgba($white, .05)};
}

// --- GLOBAL

#page {
  perspective: 5000px;
  overflow: hidden;
}

* {
  margin: 0;
  padding: 0;
  font-family: 'Roboto', sans-serif;
  line-height: 1.25;
  outline: none;
  box-sizing: border-box;
  backface-visibility: hidden; // Tricks font aliasing

  ::-webkit-scrollbar {
    background: var(--c-background-0);
  }

  ::-webkit-scrollbar-thumb {
    background: var(--c-scrollbar-background);
    border: 1px solid var(--c-background-0);

    &:hover {
      background: var(--c-scrollbar-hover);
    }

    &:active {
      background: var(--c-scrollbar-active);
    }
  }
}

#page-content {
  position: relative;
  display: flex;
  height: 100vh;
  color: var(--c-default);
  transition: transform var(--transition);
  will-change: transform;

  &::before, &::after {
    content: '';
    z-index: -1;
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(#FFF, .1);
    transition: var(--transition);
  }

  &.minimized {
    transform: scale(.75) rotateY(50deg) translateX(-100vw);
    cursor: zoom-in;

    @media #{$medium-and-up} {
      transform: scale(.5) rotateY(50deg) translateX(-30vw);
    }

    &::before {
      transform: translate3d(calc(-13vw - 100px), 0, 0) scale(.8);
    }

    &::after {
      transform: translate3d(calc(-7vw - 50px), 0, 0) scale(.9);
    }
  }
}

main {
  flex: 100%;
  padding-top: 3.75em;
  background: var(--c-background-0);
  box-shadow: 0 5px 5px 0 rgba(#000, .5);
  overflow: auto;
  overflow: overlay;
}

h1 {
  margin: .75em 0;
  font-size: 2em;
  text-align: center;
  color: var(--c-primary);
  opacity: .5;
  transition: font-size var(--transition);

  @media #{$medium-and-up} {
    font-size: 4em;
  }
}

li {
  list-style-type: none;
}

a {
  color: var(--c-primary);
}

button {
  font-size: var(--fs-regular);
  background: transparent;
  border-style: none;
  cursor: pointer;

  &::-moz-focus-inner {
    border-style: none; // Remove border when focused for Firefox
  }
}

button, a {
  &:focus:not(:active) {
    outline-color: var(--c-primary);
    box-shadow: 0 0 0 .125em var(--c-primary);
  }
}

// --- HELPER

.elevation-1 {
  background: 1px solid var(--c-background-1);
  box-shadow: inset 0 0 0 1px var(--c-border), 0 2px 1px -1px rgba($black, .1), 0 1px 1px 0 rgba($black, .07), 0 1px 3px 0 rgba($black, .06);
}

.elevation-2 {
  background: 1px solid var(--c-background-2);
  box-shadow: inset 0 0 0 1px var(--c-border), 0 3px 1px -2px rgba($black, .1), 0 2px 2px 0 rgba($black, .07), 0 1px 5px 0 rgba($black, .06);
}

.elevation-3 {
  background: 1px solid var(--c-background-3);
  box-shadow: inset 0 0 0 1px var(--c-border), 0 3px 3px -2px rgba($black, .1), 0 3px 4px 0 rgba($black, .07), 0 1px 8px 0 rgba($black, .06);
}

.message-success, .message-fail {
  display: flex;
  align-items: center;
  margin-bottom: 2em;
  padding: .8125em 1em;
  border-radius: .5em;

  svg {
    flex: 0 0 1.25em;
    height: 1.25em;
    margin-right: 1em;
  }
}

.message-success {
  color: var(--c-success);
  fill: var(--c-success);
  background: var(--c-success-25);
  border: .0625em solid var(--c-success);
}

.message-fail {
  color: var(--c-error);
  fill: var(--c-error);
  background: var(--c-error-25);
  border: .0625em solid var(--c-error);
}
